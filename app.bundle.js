webpackJsonp([0],{0:function(t,exports,e){e(1),t.exports=e(298)},298:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var a=e(299),i=n(a),o=e(301),r=n(o),l=e(302),s=n(l),d=e(320),c=n(d),u=e(425),p=n(u);e(429),e(436),i["default"].module("app",[r["default"],s["default"],c["default"]]).constant("myConfig",{ApiEndpoint:"http://54.169.238.187:8080",port:"80"}).config(["$locationProvider",function(t){"ngInject";t.html5Mode(!0)}]).component("app",p["default"])},302:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),i=n(a),o=e(303),r=n(o),l=e(314),s=n(l),d=e(318),c=n(d),u=i["default"].module("app.common",[r["default"],s["default"],c["default"]]).name;exports["default"]=u},303:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),i=n(a),o=e(301),r=n(o),l=e(304),s=n(l),d=e(312),c=n(d),u=i["default"].module("navbar",[r["default"],c["default"]]).component("navbar",s["default"]).name;exports["default"]=u},304:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(305),i=n(a),o=e(306),r=n(o);e(308);var l={restrict:"E",bindings:{},template:i["default"],controller:r["default"]};exports["default"]=l},305:function(t,exports){t.exports='<nav class="navbar navbar-default">\n  <div class="container-fluid">\n    <!-- Brand and toggle get grouped for better mobile display -->\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a ui-sref="home" class="logo" href="#">\n        <img src="assets/FPTlogo.png" />\n      </a>\n    </div>\n\n    <!-- Collect the nav links, forms, and other content for toggling -->\n    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\n      <ul class="nav navbar-nav">\n        <li class="active"><a ui-sref="apps.list">ORGANIZATION</a></li>\n        <li><a href="#">DOCUMENTATION</a></li>\n        <li><a ui-sref="about">ABOUT US</a></li>\n      </ul>\n      <form class="navbar-form navbar-left">\n        <div class="form-group">\n          <input type="text" class="form-control" placeholder="Search">\n        </div>\n        <button type="submit" class="btn btn-default">Search</button>\n      </form>\n      <ul class="nav navbar-nav navbar-right">\n        <li class="dropdown">\n          <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-user"></i> Chanh Le <b class="caret"></b></a>\n          <ul class="dropdown-menu">\n             <li>\n                <a href="#"><i class="fa fa-fw fa-user"></i> Profile</a>\n             </li>\n             <li>\n                <a href="#"><i class="fa fa-fw fa-envelope"></i> Inbox</a>\n             </li>\n             <li>\n                <a href="#"><i class="fa fa-fw fa-gear"></i> Settings</a>\n             </li>\n             <li class="divider"></li>\n             <li>\n                <a href="#"><i class="fa fa-fw fa-power-off"></i> Log Out</a>\n             </li>\n          </ul>\n       </li>\n      </ul>\n    </div><!-- /.navbar-collapse -->\n  </div><!-- /.container-fluid -->\n</nav>\n'},306:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(307),i=n(a),o=function r(){"ngInject";(0,i["default"])(this,r),this.name="navbar"};exports["default"]=o},308:function(t,exports,e){var n=e(309);"string"==typeof n&&(n=[[t.id,n,""]]);e(311)(n,{});n.locals&&(t.exports=n.locals)},309:function(t,exports,e){exports=t.exports=e(310)(),exports.push([t.id,".navbar{background-color:$primaryColor}.navbar .logo,.navbar .nav-links{margin-right:20px}.navbar .logo img,.navbar .nav-links img{margin-top:5px;height:40px}.navbar .nav-links span{color:$lightTextColor;font-size:1.6rem}",""])},314:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),i=n(a),o=e(301),r=n(o),l=e(315),s=n(l),d=i["default"].module("hero",[r["default"]]).component("hero",s["default"]).name;exports["default"]=d},315:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(316),i=n(a),o=e(317),r=n(o),l={restrict:"E",bindings:{},template:i["default"],controller:r["default"]};exports["default"]=l},316:function(t,exports){t.exports='<section class="hero">\n  <h1>This is the NG6 starter</h1>\n  <h3>You can find me inside {{ $ctrl.name }}.html</h3>\n</section>\n'},317:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(307),i=n(a),o=function r(){(0,i["default"])(this,r),this.name="hero"};exports["default"]=o},318:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),i=n(a),o=e(319),r=n(o),l=i["default"].module("user",[]).factory("User",r["default"]).name;exports["default"]=l},319:function(t,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){var t={},e=function(){return t},n=function(){return t.isSignedIn};return{getUser:e,isSignedIn:n}};exports["default"]=e},320:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),i=n(a),o=e(321),r=n(o),l=e(327),s=n(l),d=e(333),c=n(d),u=i["default"].module("app.components",[r["default"],s["default"],c["default"]]).name;exports["default"]=u},321:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),i=n(a),o=e(301),r=n(o),l=e(322),s=n(l),d=i["default"].module("home",[r["default"]]).config(["$stateProvider",function(t){"ngInject";t.state("home",{url:"/home",component:"home"})}]).component("home",s["default"]).name;exports["default"]=d},322:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(323),i=n(a),o=e(324),r=n(o);e(325);var l={restrict:"E",bindings:{},template:i["default"],controller:r["default"]};exports["default"]=l},323:function(t,exports){t.exports='<navbar></navbar>\n<!-- <header>\n  <hero></hero>\n</header> -->\n<ol class="breadcrumb">\n  <li class="active">Dashboard</li>\n</ol>\n<main>\n  <div>\n    <!-- <h1>Found in {{ $ctrl.name }}.html</h1> -->\n  </div>\n</main>\n'},324:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(307),i=n(a),o=function r(){(0,i["default"])(this,r),this.name="home"};exports["default"]=o},325:function(t,exports,e){var n=e(326);"string"==typeof n&&(n=[[t.id,n,""]]);e(311)(n,{});n.locals&&(t.exports=n.locals)},326:function(t,exports,e){exports=t.exports=e(310)(),exports.push([t.id,".navbar{margin-bottom:0!important}",""])},327:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),i=n(a),o=e(301),r=n(o),l=e(328),s=n(l),d=i["default"].module("about",[r["default"]]).config(["$stateProvider",function(t){"ngInject";t.state("about",{url:"/about",component:"about",activetab:"about"})}]).component("about",s["default"]).name;exports["default"]=d},328:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(329),i=n(a),o=e(330),r=n(o);e(331);var l={restrict:"E",bindings:{},template:i["default"],controller:r["default"]};exports["default"]=l},329:function(t,exports){t.exports="<navbar></navbar>\n<h1>{{ $ctrl.name }}</h1>\n<section>\n  About us.\n</section>\n"},330:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(307),i=n(a),o=function r(){(0,i["default"])(this,r),this.name="about"};exports["default"]=o},331:function(t,exports,e){var n=e(332);"string"==typeof n&&(n=[[t.id,n,""]]);e(311)(n,{});n.locals&&(t.exports=n.locals)},332:function(t,exports,e){exports=t.exports=e(310)(),exports.push([t.id,".about{color:red}",""])},333:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),i=n(a),o=e(301),r=n(o),l=e(334),s=n(l),d=e(339),c=n(d),u=e(364),p=n(u),f=e(417),v=n(f),h=e(424),b=n(h),g=i["default"].module("apps",[r["default"],c["default"],p["default"],v["default"]]).service("AppsService",b["default"]).config(["$stateProvider",function(t){"ngInject";t.state("apps",{template:"<apps></apps>"})}]).component("apps",s["default"]).name;exports["default"]=g},334:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(335),i=n(a),o=e(336),r=n(o);e(337);var l={restrict:"E",bindings:{},template:i["default"],controller:r["default"]};exports["default"]=l},335:function(t,exports){t.exports="<navbar></navbar>\n<div ui-view></div>"},336:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(307),i=n(a),o=function r(){(0,i["default"])(this,r)};exports["default"]=o},337:function(t,exports,e){var n=e(338);"string"==typeof n&&(n=[[t.id,n,""]]);e(311)(n,{});n.locals&&(t.exports=n.locals)},338:function(t,exports,e){exports=t.exports=e(310)(),exports.push([t.id,".add-app{border:1px solid #ccc;border-radius:5px;padding:10px}",""])},339:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),i=n(a),o=e(301),r=n(o),l=e(340),s=n(l),d=i["default"].module("list",[r["default"]]).config(["$stateProvider","$urlRouterProvider",function(t,e){"ngInject";t.state("apps.list",{url:"/",component:"list"})}]).component("list",s["default"]).name;exports["default"]=d},340:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(341),i=n(a),o=e(342),r=n(o);e(362);var l={restrict:"E",bindings:{},template:i["default"],controller:r["default"]};exports["default"]=l},341:function(t,exports){t.exports='<ol class="breadcrumb">\n  <li class="active">Organizations</li>\n</ol>\n<main>\n  <div class="container">\n  \t<table class="table">\n  \t\t<thead>\n  \t\t\t<td>Name</td>\n        \t<td>Device type</td>\n  \t\t\t<td>Total devices</td>\n  \t\t</thead>\n  \t\t<tbody>\n        <tr ng-repeat="n in $ctrl.testList track by $index">\n          <td><a ui-sref="apps.detail({id: \'{{n.Id}}\'})">{{n.name}}</a></td>\n          <td>{{n.deviceType}}</td>\n          <td>{{n.repository}}</td>\n        </tr>\n\t    </tbody>\n    </table>\n\n  \t<div class="col-md-3 add-app">\n     \t<form ng-submit="$ctrl.createOrg()">\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Select Device</label>\n\t\t\t\t<div class="cb10"></div>\n\t\t\t\t<select class="form-control"\n          ng-change="$ctrl.selectAction()"\n          ng-model="$ctrl.deviceOption"\n          ng-options="option.name for option in $ctrl.deviceOptions">\n        </select>\n\t\t\t</div>\n\t\t  \t<div class="form-group">\n\t\t    \t<label>Organization</label>\n\t\t    \t<input type="text" ng-model="$ctrl.appname" name="appname" class="form-control">\n\t\t  \t</div>\n\t\t  \t<div class="cb30"></div>\n\t\t  \t<button type="submit" class="btn btn-primary">CREATE NEW ORGANIZATION</button>\n\t\t  </form>\n    </div>\n  </div>\n</main>\n'},342:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(307),i=n(a),o=e(343),r=n(o),l=function(){function t(e,n){"ngInject";(0,i["default"])(this,t),this.name="home",this.$http=e,this.apiendpoint=n.ApiEndpoint,this.setActive=function(t){this.activeIndex=t},this.initOrgs=function(){var t=this;this.getOrgs().then(function(e){return t.testList=e})},this.initOrgs(),this.deviceOptions=[{name:"Raspberry Pi 2",value:"Raspberry Pi 2"},{name:"Raspberry Pi 3",value:"Raspberry Pi 3"}],this.deviceOption=this.deviceOptions[0],this.selectAction=function(){console.log(this.deviceOption.value)}}return t.$inject=["$http","myConfig"],(0,r["default"])(t,[{key:"getOrgs",value:function(){return this.$http.get(this.apiendpoint+"/v1/org").then(function(t){return t.data})}},{key:"createOrg",value:function(){var t=this,e={headers:{"Content-Type":"application/x-www-form-urlencoded"}},n={name:""+this.appname,deviceType:""+this.deviceOption.value,repository:"none"};this.$http.post(this.apiendpoint+"/v1/org",n,e).then(function(e){201==e.status&&t.initOrgs()})}},{key:"getDeviceCount",value:function(t){return this.$http.get(this.apiendpoint+"/v1/device/"+t).then(function(t){return t.data.length})}}]),t}();exports["default"]=l},362:function(t,exports,e){var n=e(363);"string"==typeof n&&(n=[[t.id,n,""]]);e(311)(n,{});n.locals&&(t.exports=n.locals)},363:function(t,exports,e){exports=t.exports=e(310)(),exports.push([t.id,".add-app{border:1px solid #ccc;border-radius:5px;padding:10px}",""])},364:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),i=n(a),o=e(301),r=n(o),l=e(365),s=n(l);e(408);var d=e(416),c=n(d),u=i["default"].module("detail",[r["default"],c["default"].name]).config(["$stateProvider",function(t){"ngInject";t.state("apps.detail",{url:"/app/:id",component:"detail"})}]).component("detail",s["default"]).name;exports["default"]=u},365:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(366),i=n(a),o=e(367),r=n(o);e(406);var l={restrict:"E",bindings:{},template:i["default"],controller:r["default"]};exports["default"]=l},366:function(t,exports){t.exports='<ol class="breadcrumb">\n  <li><a ui-sref="apps.list">Organizations</a></li>\n  <li class="active">{{$ctrl.appDetail.name}}</li>\n</ol>\n<main>\n\t<ul class="nav navbar-nav side-nav">\n        <li class="active">\n          <a href="index.html"><i class="fa fa-fw fa-desktop"></i> Device</a>\n        </li>\n        <li>\n          <a href="charts.html"><i class="fa fa-fw fa-bar-chart-o"></i> Environment variables</a>\n        </li>\n        <li>\n          <a href="tables.html"><i class="fa fa-fw fa-table"></i> Build logs</a>\n        </li>\n        <li>\n          <a href="forms.html"><i class="fa fa-fw fa-edit"></i> Notification</a>\n        </li>\n        <li>\n          <a href="#" ng-click="$ctrl.deleteOrg($ctrl.appDetail.Id, $ctrl.appDetail.name)"><i class="fa fa-times" aria-hidden="true"></i> Delete</a>\n        </li>\n        <li role="separator" class="divider"></li>\n        <li>\n          <a href="{{$ctrl.urlDownloadConfig}}"><i class="fa fa-download"></i> Download Config</a>\n        </li>\n    </ul>\n    <div id="page-content">\n    \t<div class="col-md-12">\n    \t\t<div style="width: 400px" class="pull-right">\n    \t\t<div class="input-group">\n\t\t\t  <input type="text" class="form-control" value="">\n\t\t\t  <div class="input-group-btn">\n\t\t\t    <button class="btn btn-default"><i class="fa fa-files-o" aria-hidden="true"></i></button>\n\t\t\t    <button class="btn btn-default"><i class="fa fa-pencil" aria-hidden="true"></i></button>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t\t</div>\n    \t</div>\n    \t<div class="cb20"></div>\n    \t<table class="table table-hover table-detail">\n    \t\t<thead>\n    \t\t\t<tr>\n    \t\t\t\t<th>Status</th>\n    \t\t\t\t<th width="200px">Name</th>\n    \t\t\t\t<th>Last Seen</th>\n    \t\t\t\t<th>UUID</th>\n    \t\t\t\t<th>IP Address</th>\n    \t\t\t\t<th>Commit</th>\n    \t\t\t</tr>\n    \t\t</thead>\n    \t\t<tbody>\n        <tr ng-repeat="n in $ctrl.deviceList track by $index">\n          <td>\n            <span ng-if="n.isOnline == true">\n              <i class="fa fa-check-circle-o" aria-hidden="true"></i> Online\n            </span>\n            <span ng-if="n.isOnline != true">\n              <i class="fa fa-circle" aria-hidden="true"></i> Offline\n            </span>\n          </td>\n          <td>\n            <div ng-if="n.status == \'updating\'">\n              <div class="progress">\n                <div style="width:100%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="45" role="progressbar" class="progress-bar progress-bar-striped active">\n                  Updating...\n                </div>\n              </div>\n            </div>\n            <div ng-if="n.status == \'updated\'">\n              <a ui-sref="apps.deviceapps({id: \'{{n.appId}}\',deviceid: \'{{n.Id}}\'})">{{n.name}}</a>\n            </div>\n          </td>\n          <td>{{n.lastSeen}}</td>\n          <td>\n            {{$ctrl.shortUUID(n.uuid)}}\n            <a class="btnCopy" clipboard supported="supported" text="n.uuid" on-copied="success()" on-error="fail(err)" title="Copy">\n              <i class="fa fa-files-o" aria-hidden="true"></i>\n            </a>\n          </td>\n          <td>{{n.ipAddress}}</td>\n          <td>{{n.commit}}</td>\n        </tr>\n    \t\t</tbody>\n    \t</table>\n    </div>\n  <script>\n    $(function() {\n      var clipboard = new Clipboard(\'.btn\');\n    })\n  </script>\n</main>\n'},367:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(368),i=n(a),o=e(307),r=n(o),l=e(343),s=n(l),d=function(){function t(e,n,a,o,l){"ngInject";var s=this;(0,r["default"])(this,t),this.name="detail",this.$http=e,this.service=l,this.apiendpoint=o.ApiEndpoint,this.urlDownloadConfig=this.apiendpoint+"/v1/org/configfile/"+n.id;var d=this;this.getOrgDetail(n.id).then(function(t){return s.appDetail=t}),this.getDevicesFunc=function(t){var e=this;this.getDevices(t).then(function(t){e.deviceList=t;var n=!0,a=!1,o=void 0;try{for(var r,l=(0,i["default"])(t);!(n=(r=l.next()).done);n=!0){var s=r.value,d="";d=s.isOnline?"OK":"offline",e.runCheckOnline(d,s.Id,s.ipAddress)}}catch(c){a=!0,o=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(a)throw o}}})},this.getDevicesFunc(n.id);var c=void 0;this.runUpdate=function(){c=a(function(){d.getDevicesFunc(n.id)},7e3)},this.stopUpdate=function(){a.cancel(c)},this.runUpdate(),this.supported=!1,this.textToCopy="I can copy by clicking!",this.success=function(){console.log("Copied!")},this.fail=function(t){console.error("Error!",t)},this.runCheckOnline=function(t,e,a){var i=parseInt(n.id),e=e;this.checkOnline(a,d).then(function(n){if(t!=n){var a=!0;"offline"==n&&(a=!1),d.updateStatus(i,e,a,d.appDetail.apiKey)}})}}return t.$inject=["$http","$stateParams","$interval","myConfig","AppsService"],(0,s["default"])(t,[{key:"$onDestroy",value:function(){this.stopUpdate(),console.log("detail.controller destroyed")}},{key:"getOrgDetail",value:function(t){return this.$http.get(this.apiendpoint+"/v1/org/detail/"+t).then(function(t){return t.data})}},{key:"getDevices",value:function(t){return this.$http.get(this.apiendpoint+"/v1/device/"+t).then(function(t){return t.data})}},{key:"shortUUID",value:function(t){return t.substring(0,7)}},{key:"checkOnline",value:function(t,e){var n="http://"+t+":8080";return this.$http.get(n+"/ping",{timeout:3e3}).then(function(t){return"OK"},function(t){return"offline"})}},{key:"updateStatus",value:function(t,e,n,a){var i=this,o={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r={appId:t,deviceId:e,status:n};this.$http.post(this.apiendpoint+"/v1/device/"+t+"/updatestatus?apikey="+a,r,o).then(function(e){200==e.status&&i.getDevices(t).then(function(t){i.deviceList=t})})}},{key:"deleteOrg",value:function(t,e){this.service.deleteOrg(t,e)}}]),t}();exports["default"]=d},406:function(t,exports,e){var n=e(407);"string"==typeof n&&(n=[[t.id,n,""]]);e(311)(n,{});n.locals&&(t.exports=n.locals)},407:function(t,exports,e){exports=t.exports=e(310)(),exports.push([t.id,".table-detail thead tr th{border-top:2px solid #ddd!important;background-color:#fafafa}.table-detail tbody tr td{vertical-align:middle!important}.table-detail tbody tr td:first-child,.table-detail thead tr th:first-child{padding-left:20px}.table-detail tbody tr td:first-child .fa-check-circle-o{color:#5cb85c!important}.table-detail tbody tr td:first-child .fa-circle{color:#b52b27!important}.table-detail tbody tr td .progress{margin-bottom:0!important}.side-nav{position:fixed;top:89px;left:0;width:225px;margin-left:0;border-right:1px solid #ddd;overflow-y:auto;background-color:#f0f0f0;bottom:0;overflow-x:hidden;padding-bottom:40px}.side-nav>li>a{width:225px;color:#514e58}.side-nav li a:focus,.side-nav li a:hover{outline:none;background-color:#d8d8d8!important}.side-nav li.active{background-color:#d8d8d8!important}.side-nav>li>ul{padding:0}.side-nav>li>ul>li>a{display:block;padding:10px 15px 10px 38px;text-decoration:none;color:#999}.side-nav>li>ul>li>a:hover{color:#fff}#page-content{margin-left:225px}.downloadConfig{text-align:center;width:100%}.divider{width:100%;height:1px;border-bottom:1px solid #ddd;margin:10px 0}.btnCopy i{color:#666!important;padding:5px}.btnCopy :hover{cursor:pointer}",""])},417:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),i=n(a),o=e(301),r=n(o),l=e(418),s=n(l),d=i["default"].module("deviceapp",[r["default"]]).config(["$stateProvider",function(t){"ngInject";t.state("apps.deviceapps",{url:"/app/:id/device/:deviceid",component:"deviceapp"})}]).component("deviceapp",s["default"]).name;exports["default"]=d},418:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(419),i=n(a),o=e(420),r=n(o);e(422);var l={restrict:"E",bindings:{},template:i["default"],controller:r["default"]};exports["default"]=l},419:function(t,exports){t.exports='<ol class="breadcrumb">\n  <li><a ui-sref="apps.list">Organizations</a></li>\n  <!-- <li><a ui-sref="apps.detail({id: \'{{$ctrl.appDetail.Id}}\'})">{{$ctrl.appDetail.name}}</a></li> -->\n  <li><a ui-sref="apps.detail({id:{{\'$ctrl.appDetail.Id\'}}})">{{$ctrl.appDetail.name}}</a></li>\n  <li class="active">{{$ctrl.changename}}</li>\n</ol>\n<main>\n  <ul class="nav navbar-nav side-nav">\n    <li class="active">\n      <a href="index.html"><i class="fa fa-fw fa-desktop"></i> Device</a>\n    </li>\n    <li>\n      <a href="charts.html"><i class="fa fa-fw fa-bar-chart-o"></i> Environment variables</a>\n    </li>\n    <li>\n      <a href="tables.html"><i class="fa fa-fw fa-table"></i> Build logs</a>\n    </li>\n    <li>\n      <a href="forms.html"><i class="fa fa-fw fa-edit"></i> Notification</a>\n    </li>\n    <li>\n      <a href="#"><i class="fa fa-times" aria-hidden="true"></i> Delete</a>\n    </li>\n    <li role="separator" class="divider"></li>\n    <li>\n      <a href="{{$ctrl.urlDownloadConfig}}"><i class="fa fa-download"></i> Download Config</a>\n    </li>\n  </ul>\n  <div id="page-content">\n    <div class="col-md-12">\n      <p class="dname">DEVICE NAME</p>\n      <div class="col-md-4 nopl">\n        <input type="text" ng-model="$ctrl.changename" ng-blur="$ctrl.updateName()" class="form-control">\n      </div>\n      <div class="cb30"></div>\n      <div class="col-md-6 nopl">\n        <div class="panel panel-default">\n          <div class="panel-heading">DEVICE SUMMARY</div>\n          <div class="panel-body" id="appSumary">\n            <div class="col-sm-6 nopl">\n              <div class="form-group">\n                <p class="dname">STATUS</p>\n                <span class="dstatus" ng-if="$ctrl.deviceDetail.isOnline == true">\n                  <i class="fa fa-check-circle-o online" aria-hidden="true"></i> Online\n                </span>\n                <span class="dstatus" ng-if="$ctrl.deviceDetail.isOnline != true">\n                  <i class="fa fa-circle offline" aria-hidden="true"></i> Offline\n                </span>\n              </div>\n              <div class="form-group">\n                <p class="dname">UUID</p>\n                <p>{{$ctrl.shortString($ctrl.deviceDetail.uuid, 7)}}</p>\n              </div>\n            </div>\n            <div class="col-sm-6 nopl">\n              <div class="form-group">\n                <p class="dname">DEVICE TYPE</p>\n                <p>{{$ctrl.deviceDetail.deviceType}}</p>\n              </div>\n              <div class="form-group">\n                <p class="dname">IP ADDRESS</p>\n                <p>{{$ctrl.deviceDetail.ipAddress}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="panel panel-default">\n          <div class="panel-heading">APP INFO</div>\n          <div class="panel-body" id="appSumary">\n            <div class="col-sm-6 nopl">\n              <div class="form-group">\n                <p class="dname">CONTAINER ID</p>\n                <p>{{$ctrl.shortString($ctrl.deviceApp.containerId, 12)}}</p>\n              </div>\n              <div class="form-group">\n                <p class="dname">IMAGE ID</p>\n                <p>{{$ctrl.deviceApp.imageId}}</p>\n              </div>\n              \n            </div>\n            <div class="col-sm-6 nopl">\n              <div class="form-group">\n                <p class="dname">URL</p>\n                <p><a target="_blank" href="{{$ctrl.appurl}}">{{$ctrl.appurl}}</a></p>\n              </div>\n              <div class="form-group nomg">\n                <p class="dname">VERSION</p>\n                <p class="versionval"><span class="label label-primary">{{$ctrl.deviceApp.commit}}</span></p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6">\n        <div class="panel panel-default">\n          <div class="panel-heading">UPDATES</div>\n          <div class="panel-body">\n            <div class="col-sm-12 nopd">\n              <div class="form-group">\n                <p class="updatename">Check for updates for this device</p>\n                <div id="updateBody">\n                  <div id="updateProgress" style="display: none">\n                    <div class="progress">\n                      <div class="progress-bar active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%">\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <p class="updatedes">Check for updates to install the latest updates for application running on this device.</p>\n              </div>\n            </div>\n            <div class="col-sm-12 nopd">\n              <div class="form-group">\n                <button id="btnCheck" ng-class="$ctrl.deviceDetail.isOnline == true ? \'\': \'disabled\'" class="btn btn-default pull-right" ng-click="$ctrl.checkUpdate($ctrl.deviceDetail.ipAddress)">Check for updates</button>\n                <button id="btnInstall" style="display:none" class="btn btn-primary pull-right" ng-click="$ctrl.runUpdate($ctrl.deviceDetail.ipAddress)">Install updates</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</main>\n'},420:function(t,exports,e){(function($){"use strict";function t(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(307),a=t(n),i=e(343),o=t(i),r=function(){function t(e,n,i,o,r,l,s){"ngInject";var d=this;(0,a["default"])(this,t),this.$http=e;var c=this;this.service=s,this.apiendpoint=l.ApiEndpoint,this.name="deviceapp",this.changename="",this.currentState="",this.getOrgDetail(n.id).then(function(t){return d.appDetail=t});var u="",p=void 0;this.getDeviceDetailFunc=function(){var t=this;this.getDeviceDetail(n.id,n.deviceid).then(function(e){u=e.isOnline?"OK":"offline",t.deviceDetail=e,t.changename=e.name,t.getApp(e.uuid).then(function(e){t.deviceApp=e,t.appurl="http://"+t.deviceDetail.ipAddress+":"+e.env,t.runCheckOnline(t.deviceDetail.ipAddress)})})},this.pageInfoReload=function(){p=i(function(){c.getDeviceDetailFunc()},6e3)},this.stoppageInfoReload=function(){i.cancel(p)},this.pageInfoReload(),this.getDeviceDetailFunc(),this.runCheckOnline=function(t){this.checkOnline(t,c).then(function(t){if(u!=c.currentState){var e=!0;"offline"==c.currentState&&(e=!1);var a=parseInt(n.id),i=parseInt(n.deviceid);c.updateStatus(a,i,e,c.appDetail.apiKey)}else u=c.currentState,"offline"!=c.currentState&&$("#btnCheck").removeClass("disabled")})},this.updateName=function(){var t={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e={name:this.changename};this.$http.post(this.apiendpoint+"/v1/device/"+n.id+"/updatename/"+n.deviceid,e,t).then(function(t){201==t.status})},this.appurl="";var f=void 0;this.runUpdate=function(t){c.installUpdate(t),$("#updateProgress").removeAttr("style"),$("#updateProgress .progress-bar").addClass("progress-bar-info progress-bar-striped"),f=i(function(){c.$http.get(c.apiendpoint+"/v1/device/"+n.id+"/"+n.deviceid).then(function(t){$("#updateProgress .progress-bar").css("width",t.data.downloadProgress+"%"),100==t.data.downloadProgress&&(i.cancel(f),o(function(){$("#updateProgress").css("display","none"),$("#updateProgress .progress-bar").css("width","0%"),$("#btnInstall").css("display","none"),$("#btnCheck").removeAttr("style"),$(".updatedes").removeAttr("style"),$(".updatedes").html("There are no updates available on this device."),$(".updatename").html("Application is up to date.")},10))})},1e3)};var v=void 0;this.checkingUpdate=function(t){$("#updateProgress").removeAttr("style"),$(".updatedes").css("display","none"),$(".updatename").html("Checking for updates..."),$("#btnCheck").addClass("disabled");var e=1e3*t/100,n=0;$("#updateProgress .progress-bar").css("width","0%"),v=i(function(){n+=1,$("#updateProgress .progress-bar").css("width",n+"%"),n>100&&(i.cancel(v),o(function(){$("#updateProgress").css("display","none"),$("#updateProgress .progress-bar").css("width","0%"),$("#btnCheck").removeClass("disabled"),$(".updatedes").removeAttr("style")},10))},e)},this.checkUpdate=function(t){var e,n="http://"+t+":8080";c.getCheckUpdate(n).then(function(t){e=t});var a=function(t){var e=r.defer();$("#updateProgress").removeAttr("style"),$(".updatedes").css("display","none"),$(".updatename").html("Checking for updates..."),$("#btnCheck").addClass("disabled");var n=1e3*t/100,a=0;return $("#updateProgress .progress-bar").css("width","0%"),v=i(function(){a+=1,$("#updateProgress .progress-bar").css("width",a+"%"),a>100&&(i.cancel(v),o(function(){$("#updateProgress").css("display","none"),$("#updateProgress .progress-bar").css("width","0%"),$("#btnCheck").removeClass("disabled"),$(".updatedes").removeAttr("style"),e.resolve("")},500))},n),e.promise};a(3).then(function(){l(e)})["catch"](function(t){});var l=function s(t){null!=t?"true"==t.update?($(".updatename").html("Updates are available."),$(".updatedes").html("Device has found a new update: <b>"+t.version+"</b>"),$("#btnInstall").removeAttr("style"),$("#btnCheck").css("display","none")):($(".updatename").html("Device's application is up to date."),
$(".updatedes").html("No updates are available."),$("#btnCheck").removeAttr("style"),$("#btnInstall").css("display","none")):o(function(){s(t)},1e3)}}}return t.$inject=["$http","$stateParams","$interval","$timeout","$q","myConfig","AppsService"],(0,o["default"])(t,[{key:"$onDestroy",value:function(){this.stoppageInfoReload()}},{key:"shortString",value:function(t,e){return t?t.substring(0,e):""}},{key:"getOrgDetail",value:function(t){return this.$http.get(this.apiendpoint+"/v1/org/detail/"+t).then(function(t){return t.data})}},{key:"getDeviceDetail",value:function(t,e){return this.$http.get(this.apiendpoint+"/v1/device/"+t+"/"+e).then(function(t){return t.data})}},{key:"getApp",value:function(t){return this.$http.get(this.apiendpoint+"/v1/app/"+t).then(function(t){return t.data})}},{key:"getCheckUpdate",value:function(t){return this.$http.get(t+"/v1/checkupdate").then(function(t){return t.data})}},{key:"installUpdate",value:function(t){var e="http://"+t+":8080";this.$http.post(e+"/v1/installupdate").then(function(t){return t.data})}},{key:"updateProgressBar",value:function(t){$("#updateProgress .progress-bar").css("width",t+"%").attr("aria-valuenow",t)}},{key:"checkOnline",value:function(t,e){var n="http://"+t+":8080";return this.$http.get(n+"/ping",{timeout:3e3}).then(function(t){e.currentState="OK"},function(t){e.currentState="offline",$("#btnCheck").addClass("disabled")})}},{key:"updateStatus",value:function(t,e,n,a){var i=this,o={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r={appId:t,deviceId:e,status:n};this.$http.post(this.apiendpoint+"/v1/device/"+t+"/updatestatus?apikey="+a,r,o).then(function(n){200==n.status&&i.getDeviceDetail(t,e).then(function(t){return i.deviceDetail=t})})}},{key:"deleteOrg",value:function(t,e){this.service.deleteOrg(t,e)}}]),t}();exports["default"]=r}).call(exports,e(421))},422:function(t,exports,e){var n=e(423);"string"==typeof n&&(n=[[t.id,n,""]]);e(311)(n,{});n.locals&&(t.exports=n.locals)},423:function(t,exports,e){exports=t.exports=e(310)(),exports.push([t.id,".deviceapp{color:red}.dname{color:#898989;margin-bottom:2px}.updatename{font-size:20px;color:#337ab7}.updatedes{font-size:13px;color:#666}.dstatus{font-size:20px;color:#666}.online{color:#5cb85c}.offline{color:#b52b27}.versionval{font-weight:700;font-size:22px}.versionval span{color:#fff}.updatedes{font-size:14px}",""])},424:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(307),i=n(a),o=e(343),r=n(o),l=e(299),s=(n(l),function(){function t(e,n,a){(0,i["default"])(this,t),this.$http=e,this.$location=n,this.apiendpoint=a.ApiEndpoint}return(0,r["default"])(t,[{key:"deleteOrg",value:function(t,e){var n=this,a=confirm("Are you sure you want to delete "+e+"?");1==a&&!function(){var e=n;n.$http.post(n.apiendpoint+"/v1/org/delete/"+t).then(function(t){200==t.status&&e.$location.path("/")})}()}}]),t}());s.$inject=["$http","$location","myConfig"],exports["default"]=s},425:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(426),i=n(a);e(427);var o={template:i["default"],restrict:"E"};exports["default"]=o},426:function(t,exports){t.exports='<!-- Place all UI elements intended to be present across all routes in this file -->\n<div class="app">\n  <div ui-view></div>\n</div>\n'},427:function(t,exports,e){var n=e(428);"string"==typeof n&&(n=[[t.id,n,""]]);e(311)(n,{});n.locals&&(t.exports=n.locals)},428:function(t,exports,e){exports=t.exports=e(310)(),exports.push([t.id,"/*!\n * Start Bootstrap - SB Admin (http://startbootstrap.com/)\n * Copyright 2013-2016 Start Bootstrap\n * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)\n */button.disabled{pointer-events:none!important}.breadcrumb{background-color:#fff!important;border-bottom:1px solid #ddd}.nomg{margin:0!important}.nomt{margin-top:0}.mr5{margin-right:5px}.mt10{margin-top:10px}.hvul:hover{text-decoration:underline}.nopl{padding-left:0!important}.nopr{padding-right:0!important}.nopd{padding:0!important}.cb,.cb5{clear:both}.cb5{height:5px}.cb10{clear:both;height:10px}.cb15{clear:both;height:15px}.cb20,.cb30{clear:both;height:20px}.br3{border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px}.br5{border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px}.br10{border-radius:10px;-moz-border-radius:10px;-webkit-border-radius:10px}.bd1{border:1px solid #ddd}.bd2{border:1px solid #ccc}.br5{border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px}.br10{border-radius:10px;-webkit-border-radius:10px;-moz-border-radius:10px}.pd10{padding:10px}body{margin-top:100px;background-color:#222}@media(min-width:768px){body{margin-top:50px}}.huge{font-size:50px;line-height:normal}.top-nav{padding:0 15px}.top-nav>li{display:inline-block;float:left}.top-nav>li>a{padding-top:15px;padding-bottom:15px;line-height:20px;color:#999}.top-nav>.open>a,.top-nav>.open>a:focus,.top-nav>.open>a:hover,.top-nav>li>a:focus,.top-nav>li>a:hover{color:#fff;background-color:#000}.top-nav>.open>.dropdown-menu{float:left;position:absolute;margin-top:0;border:1px solid rgba(0,0,0,.15);border-top-left-radius:0;border-top-right-radius:0;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.top-nav>.open>.dropdown-menu>li>a{white-space:normal}ul.message-dropdown{padding:0;max-height:250px;overflow-x:hidden;overflow-y:auto}li.message-preview{width:275px;border-bottom:1px solid rgba(0,0,0,.15)}li.message-preview>a{padding-top:15px;padding-bottom:15px}li.message-footer{margin:5px 0}ul.alert-dropdown{width:200px}.flot-chart{display:block;height:400px}.flot-chart-content{width:100%;height:100%}.huge{font-size:40px}.panel-green{border-color:#5cb85c}.panel-green>.panel-heading{border-color:#5cb85c;color:#fff;background-color:#5cb85c}.panel-green>a{color:#5cb85c}.panel-green>a:hover{color:#3d8b3d}.panel-red{border-color:#d9534f}.panel-red>.panel-heading{border-color:#d9534f;color:#fff;background-color:#d9534f}.panel-red>a{color:#d9534f}.panel-red>a:hover{color:#b52b27}.panel-yellow{border-color:#f0ad4e}.panel-yellow>.panel-heading{border-color:#f0ad4e;color:#fff;background-color:#f0ad4e}.panel-yellow>a{color:#f0ad4e}.panel-yellow>a:hover{color:#df8a13}",""])}});
//# sourceMappingURL=app.bundle.js.map